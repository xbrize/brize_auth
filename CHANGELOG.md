# Changelog

All notable changes to this project will be documented in this file.

## [0.8.0] - 2023-11-06

### Bug Fixes

- Async trait Send and Sync

### Add

- Port to database configs

## [0.7.0] - 2023-10-21

### Bug Fixes

- Expired at was true
- Surreal db returning garbo

### Features

- Create user registration fn
- Login function
- Re-intorduce login logic and tests
- Start session
- Create user repository trait, change return types of queries to enums
- Auth controller
- Destroy session
- Handle session validation
- Token encoding and decoding
- Sql sessions
- Check for unique fields
- Move user struct and repo's over to credentials
- Mysql registration and login
- Surreal db uses credentials model
- Register and login for sql and surreal db
- Auth builder pattern, registration, login, and jwt validation
- Create a DatabaseConfig struct
- Table sessions
- Logout command and session deletion
- Update credentials
- Delete user credentials
- Password hasing with argon2
- Add examples for and test a planet_scale db
- Add example for surreal db
- Store the user_identity with the session, and return on validation

### Miscellaneous Tasks

- Add README
- Add license
- Update version
- Readme
- Update Readme
- Update Readme
- Update readme
- Readme and version updates
- Adjust lib file for proper re-exports
- Version bump
- Version bump
- Bump version for rustls feat in sqlx
- Update readme, version bump
- Update readme, version bump
- Version bump

### Refactor

- Clean architecture pattern
- Remove Thing from user model
- Create a UserRecord wrapper
- Session repository and test
- Database file structure
- Session database and repo
- Remove db initialization fn
- Create repository errors
- Create gateway dir
- Made alias for session and user id
- Removed destroy_session
- Redis gateway to impl session repo
- Create RepoResult type
- Make session return type a generic result
- Return result with dyn error from user repo trait
- Move auth to application layer, general clean up
- Move update functions to a triat
- Clean up unused fn
- Impl anyhow errors, improve file structure, cleanup domain and application modules
- Infrastructure directory
- Auth module

### Testing

- User model test and script
- User creation and get
- User login, refactored test setup
- Re-organize tests
- Session entity
- Domain module
- Gateway tests
- Session commands
- Surreal user repo
- Mysql user repo
- Session repo with new return type
- Auth functions for surreal and mysql
- Update auth a gateway tests for surreal

### Add

- Register user method mysql gateway
- QueryBuilder to the register method

### Change

- Table names for sessions and credentials repositories

### Clean

- General cleanup of session mod

### Improve

- Error handling for auth repo

### Pretty

- General cleanup
- General cleanup

### Remove

- Http

### Wip

- Data modeling for User
- Session creation
- Get session
- Http listener
- Redis sessions
- Reddis session unit testing
- Sql integration
- Recofigure the session domain, application, and repo for surreal db
- Get sql connection and basic queries working
- Use push_bind to push values into query
- User cred version
- Replace user with credentials struct
- Renamimg user traits to credentials traits
- Auth config class
- Auth config builder
- Bring commands into auth struct and start to build out library
- Comment out session configs and default to jwt

<!-- generated by git-cliff -->
